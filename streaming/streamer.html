<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stream</title>
  <link rel="icon" href="src/stream0.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">

</head>


<body>
  <div class="fondo"></div>
  <div class="fondo2">
    <div class="videodiv">
      
      <video id="video" autoplay playsinline muted></video>
  </div>
</div>
    <div class="container2">
      
      <div class="header2">
        
        <button onclick="sidebar()" id="rayas">&#9776;</button>
        <div class="stream v2">
          <div class="imgstream">
              <div class="iconstream"></div>
          </div>
          <h1 id="nombrestreamer" ></h1>
          <div id="viewerCount" class="boton2">0</div>
          <p id="titulostreamer"></p>
      </div>
      </div>
      <div id="sidebar">
        <div id="links" >
         
            <input id="tituloStream" type="hidden" class="link" placeholder="Título del stream">
            <input id="streamId" type="hidden" class="link"  placeholder="ID único del stream">
            <input type="hidden" class="link"  id="streamerName" placeholder="Nombre streamer" />
            <button id="stopButton" class="link" onclick="stopStream()">Parar stream ❚❚</button> 
      
            <button onclick="compartirLink()" class="link" style= " top: 15.5vh; left:2vh; right: auto; background-color:rgb(55, 138, 216);">🔗 Compartir</button>
            <a href="index.html" class="link" style="background-color: #ed1e79;">Salir</a>
            
        </div>
    </div>
    
    <!-- <input id="tituloStream" class="input" placeholder="Título del stream">
      <input id="streamId" class="input"style="top: 7vh;" placeholder="ID único del stream">
      <input type="text" class="input"style="top: 11vh;"  id="streamerName" placeholder="Nombre streamer" />

      <button onclick="iniciar()" class="boton" style="top: 7.5vh;">Iniciar Stream</button>
      <button id="stopButton" onclick="stopStream()" class="boton" style="top: 13.5vh; background-color: rgb(216, 55, 55);">Terminar Stream</button>
      <a href="index.html" style="background-color: rgb(216, 133, 55);" class="boton">Salir</a>
      <button onclick="compartirLink()" style= " top: 15.5vh; left:2vh; right: auto; background-color:rgb(55, 138, 216);" class="boton">🔗 Compartir</button>
      -->
  <div id="mensajeCopiado" style="display:none; color:lightgreen;">📋 Link copiado</div>
  <div id="chatMessages" class="lista">
    <div id="playButton" class="boton2" onclick="iniciar()" style="width: max-content; padding-left: 1vh; padding-right: 1vh; left: 37%;">Iniciar ►</div> 

  </div>
    
  <footer id="chat">

    <div class="buscador">
    <button id="corazon" class="boton2 corazon" onclick="sendHeart()"></button>
      
    <input id="chatInput" class="barra" type="text" placeholder="Escribe un mensaje..." />
    <button id="enviar" class="enviar" onclick="sendChat()"></button>


  </div>

  </footer>
</div>
</body>
</html>
<script src="streamer.js"></script>
<script>
  bar = false
  function sidebar(){
    bar = !bar
    var sidebar = document.getElementById('sidebar');

    if(bar){
        sidebar.style.transform = "translateX(0%)"
    }else{
        sidebar.style.transform = "translateX(110%)"
    }
}
  function compartirLink() {
    const streamId = document.getElementById('streamId').value.trim();
    if (!streamId) {
      alert('Primero ingresá un ID de stream');
      return;
    }

    // ⚠️ Reemplazá esto con TU dominio Render real
    const link = `https://barbiniwebdesign.com.ar/streaming/viewer.html?id=${streamId}`;

    navigator.clipboard.writeText(link).then(() => {
      const mensaje = document.getElementById('mensajeCopiado');
      mensaje.style.display = 'block';
      setTimeout(() => mensaje.style.display = 'none', 2000);
    }).catch(err => {
      console.error('Error al copiar:', err);
    });
  }
</script>